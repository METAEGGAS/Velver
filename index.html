<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="theme-color" content="#000">
    <title>EUR/USD Trading Chart</title>
    <link rel="stylesheet" href="style.css">

    <!-- Top & Bottom Bars (imported from your provided design) -->
    <style>
      :root{
        --bg-primary:#000;
        --bg-secondary:#0d1117;
        --bg-card:#101a2f;
        --bg-overlay:rgba(10,22,40,.72);
        --border-primary:rgba(255,255,255,.10);
        --border-secondary:#1f2937;
        --text-primary:#fff;
        --text-secondary:#d9e6ff;
        --accent-blue:#4299e1;
        --gg:#00c853;
        --safeB: env(safe-area-inset-bottom, 0px);
        --bnH:37.4px;
        --bnSafe:calc(var(--bnH) + var(--safeB));
      }

      /* keep existing JS/layout intact; just create room */
      body{padding-top:50.6px;padding-bottom:var(--bnSafe)}

      .top-bar{position:fixed;top:0;right:0;left:0;display:flex;justify-content:space-between;align-items:center;padding:6.6px 8.8px;background:var(--bg-primary);height:50.6px;z-index:2600;border-bottom:1px solid var(--border-primary)}
      .balance{display:flex;align-items:center;gap:7px;background:linear-gradient(135deg,var(--bg-card) 0%,var(--bg-secondary) 100%);border:1.5px solid var(--border-primary);border-radius:12px;padding:8px 12px;cursor:pointer;position:relative;transition:.2s;box-shadow:0 4px 12px rgba(0,0,0,.4);z-index:2601;min-width:190px}
      .balanceMain{display:flex;align-items:center;gap:7px;flex:1;min-width:0}
      .balance-amount{font-size:15px;font-weight:900;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
      .arrow-down{width:14px;height:14px;margin-right:2px;transition:transform .2s}
      .balance.open .arrow-down{transform:rotate(180deg)}
      .flag-icon{width:20px;height:14px;border-radius:3px;box-shadow:0 2px 4px rgba(0,0,0,.3)}

      .accMenu{position:fixed;top:58px;right:8.8px;width:240px;background:linear-gradient(145deg,var(--bg-card) 0%,var(--bg-secondary) 100%);border:2px solid var(--border-primary);border-radius:16px;box-shadow:0 12px 32px rgba(0,0,0,.6),0 0 0 1px rgba(255,255,255,.05) inset;padding:10px;z-index:99999;display:none}
      .accMenu.show{display:block}
      .accSwitch{display:flex;gap:8px;background:var(--bg-secondary);border-radius:10px;padding:4px;margin-bottom:12px}
      .accSwitchBtn{flex:1;padding:8px;border-radius:8px;font-size:11px;font-weight:900;transition:.2s;border:1.5px solid transparent;display:flex;align-items:center;justify-content:center;gap:5px;background:transparent;color:#fff}
      .accSwitchBtn.live{color:#00ff41}
      .accSwitchBtn.demo{color:#ffd700}
      .accSwitchBtn.active{background:rgba(255,255,255,.1);border-color:currentColor}
      .accItem{background:rgba(255,255,255,.03);border:1.3px solid var(--border-primary);border-radius:12px;padding:10px 12px;margin-bottom:9px;cursor:pointer;transition:.15s;display:flex;align-items:center;justify-content:space-between;gap:10px}
      .accItem.active{background:linear-gradient(135deg,rgba(66,153,225,.15) 0%,rgba(49,130,206,.1) 100%);border-color:var(--accent-blue);box-shadow:0 0 12px rgba(66,153,225,.2)}
      .accL{display:flex;align-items:center;gap:10px;min-width:0}
      .accIco{width:22px;height:22px;object-fit:contain;filter:drop-shadow(0 2px 4px rgba(0,0,0,.4))}
      .accAmt{font-size:16px;font-weight:1000;color:var(--text-primary);white-space:nowrap}
      .refillBtn{width:100%;background:linear-gradient(135deg,var(--accent-blue) 0%,#3182ce 100%);border-radius:10px;padding:10px;font-size:12px;font-weight:1000;color:var(--text-primary);letter-spacing:.5px;box-shadow:0 4px 12px rgba(66,153,225,.4)}

      .top-icons{display:flex;gap:6.6px;position:absolute;left:8.8px;top:6.6px;z-index:2602}
      .icon-box{width:36.3px;height:36.3px;display:flex;align-items:center;justify-content:center;border-radius:10px;overflow:hidden;cursor:pointer;transition:.2s;background:var(--bg-secondary);border:1.1px solid var(--border-secondary)}
      .icon-box img{width:100%;height:100%;object-fit:cover;display:block}
      .icon-box.green-box{background:linear-gradient(135deg,#00ff41 0%,#00cc33 100%);border-color:#00ff41;box-shadow:0 0 12px rgba(0,255,65,.4)}

      .bottom-nav{position:fixed;bottom:0;left:0;width:100%;height:var(--bnSafe);display:flex;justify-content:space-around;align-items:center;background:var(--bg-primary);border-top:1.1px solid var(--border-primary);z-index:2000;padding-bottom:var(--safeB)}
      .nav-item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2.2px;cursor:pointer;flex:1;height:100%}
      .nav-icon{width:24.2px;height:24.2px;object-fit:contain;filter:contrast(1.25) brightness(1.2) drop-shadow(0 6.6px 13.2px rgba(0,0,0,.35))}
      .nav-item.active .nav-icon{filter:contrast(1.35) brightness(1.28) drop-shadow(0 0 7.7px rgba(255,255,255,.25))}
    </style>
</head>
<body>
    <!-- ÿßŸÑÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿπŸÑŸàŸä (Top Bar) -->
    <div class="top-bar">
      <div class="balance" id="balanceBox">
        <div class="balanceMain">
          <img class="flag-icon" id="topAccIcon" src="https://cdn-icons-png.flaticon.com/128/1344/1344761.png" alt="account">
          <span class="balance-amount" id="balTxt">$10,000.00</span>
        </div>
        <svg class="arrow-down" viewBox="0 0 24 24" fill="#888" aria-hidden="true"><path d="M7 10l5 5 5-5z"></path></svg>

        <div class="accMenu" id="accMenu">
          <div class="accSwitch">
            <button class="accSwitchBtn live" data-acc="real" type="button">LIVE</button>
            <button class="accSwitchBtn demo active" data-acc="demo" type="button">Demo</button>
          </div>

          <div class="accItem" data-type="real">
            <div class="accL">
              <img class="accIco" src="https://flagcdn.com/w40/us.png" alt="USD">
              <div class="accAmt" id="realAmt">$0.00</div>
            </div>
          </div>

          <div class="accItem active" data-type="demo">
            <div class="accL">
              <img class="accIco" src="https://cdn-icons-png.flaticon.com/128/1344/1344761.png" alt="Demo">
              <div class="accAmt" id="demoAmt">$10,000.00</div>
            </div>
          </div>

          <button class="refillBtn" id="refillBtn" type="button">üîÑ Refill Demo Account</button>
        </div>
      </div>

      <div class="top-icons">
        <div class="icon-box green-box"><img src="https://cdn-icons-png.flaticon.com/128/10167/10167706.png" alt="icon"></div>
        <div class="icon-box"><img src="https://cdn-icons-png.flaticon.com/128/18921/18921105.png" alt="icon"></div>
      </div>
    </div>

    <!-- ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ -->
    <div id="sk" class="on"></div>

    <!-- ÿ≠ÿßŸàŸäÿ© ÿßŸÑÿ¥ÿßÿ±ÿ™ ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© -->
    <div class="chartWrap">
        <div class="chartFrame">
            <div class="tc">
                <!-- ÿÆÿ∑ ÿßŸÑŸÖŸÜÿ™ÿµŸÅ -->
                <div class="centerLine"></div>

                <!-- ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ≤Ÿàÿ¨ -->
                <div class="pair-box" id="pairHud">
                    <span id="pairHudTxt">EUR/USD</span>
                    <span class="otc" id="otcHud">OTC</span>
                    <span class="flags" id="pairFlags"></span>
                    <span style="opacity:.7">‚ñæ</span>
                </div>

                <!-- ÿßŸÑÿ¥ÿßÿ±ÿ™ (Canvas) -->
                <canvas id="c"></canvas>

                <!-- ŸÖÿ§ŸÇÿ™ ÿßŸÑÿ¥ŸÖÿπÿ© -->
                <div class="candleTimer" id="candleTimer">59</div>

                <!-- ŸÖŸÇŸäÿßÿ≥ ÿßŸÑÿ≥ÿπÿ± -->
                <div class="ps" id="ps"></div>

                <!-- ÿ™ÿ≥ŸÖŸäÿßÿ™ ÿßŸÑŸàŸÇÿ™ -->
                <div class="timeLabels" id="timeLabels"></div>
            </div>
        </div>
    </div>

    <!-- ÿ±ÿ≥ÿßŸÑÿ© ÿ≠ÿßŸÑÿ© Firebase -->
    <div class="fbStatus" id="fbStatus"></div>

    <!-- ÿπŸÑÿßŸÖÿ© ÿßŸÑÿØŸàÿ± (ŸÖÿØŸäÿ±/ŸÖÿ¥ÿßŸáÿØ) -->
    <div class="roleTag" id="roleTag" style="display:none"></div>

    <!-- ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÜÿµÿ© -->
    <div class="platformTime" id="platTime">UTC+3 00:00:00</div>

    <!-- ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑŸÖÿ§ÿ¥ÿ±ÿßÿ™ ÿßŸÑÿπŸÑŸàŸä -->
    <div class="indBar" id="indBar"></div>

    <!-- ŸÑŸàÿ≠ÿ© ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑŸÖÿ§ÿ¥ÿ± -->
    <div class="indSet" id="indSet">
        <div class="hd">
            <b id="indSetTitle">Indicator</b>
            <button class="btn" id="indSetClose">ÿ•ÿ∫ŸÑÿßŸÇ</button>
        </div>
        <div class="row">
            <label>ÿßŸÑŸÑŸàŸÜ</label>
            <input type="color" id="indColor" value="#ffff00">
        </div>
        <div class="row">
            <label>ÿßŸÑÿ≥ŸÖŸÉ</label>
            <input type="number" id="indWidth" min="1" max="8" step="1" value="2">
        </div>
        <div class="row" id="periodRow" style="display:none">
            <label>ÿßŸÑŸÅÿ™ÿ±ÿ©</label>
            <input type="number" id="indPeriod" min="2" max="200" step="1" value="20">
        </div>
        <div class="row" id="stdRow" style="display:none">
            <label>ÿßŸÑÿßŸÜÿ≠ÿ±ÿßŸÅ ÿßŸÑŸÖÿπŸäÿßÿ±Ÿä</label>
            <input type="number" id="indStd" min="0.1" max="5" step="0.1" value="2">
        </div>
        <div class="btns">
            <button class="btn" id="indRemove">ÿ≠ÿ∞ŸÅ</button>
        </div>
    </div>

    <!-- ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ŸàÿßŸÑŸàŸÇÿ™ -->
    <div class="datetime" id="datetime"></div>

    <!-- ÿ£ŸäŸÇŸàŸÜÿßÿ™ ÿßŸÑŸÖÿ§ÿ¥ÿ±ÿßÿ™ -->
    <div class="indicatorIcons">
        <div class="indIcon" id="indBtn1">
            <img src="https://cdn-icons-png.flaticon.com/128/742/742130.png">
        </div>
        <div class="indIcon" id="indBtn2">
            <img src="https://cdn-icons-png.flaticon.com/128/561/561184.png">
        </div>
        <div class="eyeIcon" id="eyeBtn">üëÅ</div>
        <div class="indNamesList" id="indNamesList"></div>
    </div>

    <!-- ŸÑŸàÿ≠ÿ© ÿßŸÑÿ£ÿ≤Ÿàÿßÿ¨ -->
    <div class="pairPanel" id="pairPanel">
        <div class="pairHead">
            <b>ÿßŸÑÿ£ÿ≤Ÿàÿßÿ¨</b>
            <button class="pairClose" id="pairClose">√ó</button>
        </div>
        <div class="pairList" id="pairList"></div>
    </div>

    <!-- ŸÑŸàÿ≠ÿ© ÿßŸÑŸÖÿ§ÿ¥ÿ±ÿßÿ™ -->
    <div class="indicatorsPanel" id="indicatorsPanel">
        <div class="indPanelHead">
            <h3>ÿßŸÑŸÖÿ§ÿ¥ÿ±ÿßÿ™</h3>
            <button class="closeIndBtn" id="closeIndBtn">√ó</button>
        </div>
        <div class="indItem" data-ind="bb">
            <span>Bollinger Bands</span>
        </div>
        <div class="indItem" data-ind="tl">
            <span>Trendline</span>
        </div>
    </div>

    <!-- ŸÑŸàÿ≠ÿ© ÿßŸÑÿµŸÅŸÇÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ© -->
    <div class="tradesPanel" id="tradesPanel">
        <div class="tradesPanelHeader">
            <h3>üìä ÿßŸÑÿµŸÅŸÇÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©</h3>
            <button class="closeTrPanel" id="closeTrPanel">√ó</button>
        </div>
        <div class="tradesContent" id="tradesContent"></div>
    </div>

    <!-- ÿ£ÿØŸàÿßÿ™ ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿ®ÿßŸÑÿ™ÿØÿßŸàŸÑ -->
    <div class="trading-controls">
        <div class="control-row">
            <!-- ÿ≠ŸÇŸÑ ÿßŸÑŸÖÿ®ŸÑÿ∫ -->
            <div class="input-wrapper">
                <button class="ctrl-btn" id="minus">-</button>
                <input class="input-field" value="$ 1" id="amountInput">
                <button class="ctrl-btn" id="plus">+</button>
            </div>

            <!-- ÿ≠ŸÇŸÑ ÿßŸÑŸàŸÇÿ™ -->
            <div class="input-wrapper" id="timeWrapper">
                <input class="input-field" value="00:01:00" id="timeInput" readonly>
                <div class="timePickerPopup" id="timePickerPopup">
                    <div class="timeGrid">
                        <button class="timeBtn" data-time="00:00:15">15s</button>
                        <button class="timeBtn" data-time="00:00:10">10s</button>
                        <button class="timeBtn" data-time="00:00:05">5s</button>
                        <button class="timeBtn" data-time="00:02:00">2m</button>
                        <button class="timeBtn" data-time="00:01:00">1m</button>
                        <button class="timeBtn" data-time="00:00:30">30s</button>
                        <button class="timeBtn" data-time="00:15:00">15m</button>
                        <button class="timeBtn" data-time="00:10:00">10m</button>
                        <button class="timeBtn" data-time="00:05:00">5m</button>
                        <button class="timeBtn" data-time="02:00:00">2h</button>
                        <button class="timeBtn" data-time="01:00:00">1h</button>
                        <button class="timeBtn" data-time="00:30:00">30m</button>
                    </div>
                    <button class="manualBtn" id="manualBtn">ÿ∂ÿ®ÿ∑ ŸäÿØŸàŸäÿßŸã</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ™ÿØÿßŸàŸÑ -->
    <div class="tradeDock">
        <div class="trading-buttons">
            <button class="trade-btn trade-higher" id="buy">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M7 14l5-5 5 5z"></path>
                </svg>
                <span>ÿ¥ÿ±ÿßÿ°</span>
            </button>
            <button class="trade-btn trade-lower" id="sell">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M7 10l5 5 5-5z"></path>
                </svg>
                <span>ÿ®Ÿäÿπ</span>
            </button>
        </div>
    </div>

    <!-- ÿßŸÑÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ≥ŸÅŸÑŸä (Bottom Nav) -->
    <div class="bottom-nav" id="bottomNav">
      <div class="nav-item active" data-tab="home"><img class="nav-icon" src="https://cdn-icons-png.flaticon.com/128/893/893214.png" alt="home"></div>
      <div class="nav-item" data-tab="chart"><img class="nav-icon" src="https://cdn-icons-png.flaticon.com/128/8490/8490818.png" alt="chart"></div>
      <div class="nav-item" data-tab="history"><img class="nav-icon" src="https://cdn-icons-png.flaticon.com/128/9783/9783934.png" alt="history"></div>
      <div class="nav-item" data-tab="settings"><img class="nav-icon" src="https://cdn-icons-png.flaticon.com/128/14026/14026955.png" alt="settings"></div>
    </div>

    <!-- ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≥ŸÉÿ±Ÿäÿ®ÿ™ -->
    <script type="module" src="app.js"></script>

    <!-- Top/Bottom bars JS (isolated) -->
    <script>
      (function(){
        // --- Top bar (account menu) ---
        var balanceBox = document.getElementById('balanceBox');
        if(balanceBox){
          var accMenu = document.getElementById('accMenu');
          var refillBtn = document.getElementById('refillBtn');
          var demoAmt = document.getElementById('demoAmt');
          var realAmt = document.getElementById('realAmt');
          var balTxt = document.getElementById('balTxt');
          var topAccIcon = document.getElementById('topAccIcon');
          var activeAcc = 'demo';

          var updateAccIcon = function(){
            if(!topAccIcon) return;
            topAccIcon.src = (activeAcc === 'real')
              ? 'https://flagcdn.com/w40/us.png'
              : 'https://cdn-icons-png.flaticon.com/128/1344/1344761.png';
          };

          balanceBox.addEventListener('click', function(e){
            if(e.target && e.target.closest && e.target.closest('.accMenu')) return;
            e.stopPropagation();
            if(accMenu) accMenu.classList.toggle('show');
            balanceBox.classList.toggle('open');
          });

          document.addEventListener('click', function(e){
            if(!e.target || !e.target.closest || !e.target.closest('#balanceBox')){
              if(accMenu) accMenu.classList.remove('show');
              balanceBox.classList.remove('open');
            }
          });

          if(refillBtn){
            refillBtn.addEventListener('click', function(){
              if(demoAmt) demoAmt.textContent = '$10,000.00';
              if(balTxt) balTxt.textContent = (activeAcc === 'real' && realAmt) ? realAmt.textContent : (demoAmt ? demoAmt.textContent : '$10,000.00');
              refillBtn.textContent = '‚úÖ';
              setTimeout(function(){ refillBtn.textContent = 'üîÑ Refill Demo Account'; }, 900);
            });
          }

          document.querySelectorAll('.accSwitchBtn').forEach(function(btn){
            btn.addEventListener('click', function(){
              activeAcc = btn.dataset.acc || 'demo';
              document.querySelectorAll('.accSwitchBtn').forEach(function(x){ x.classList.toggle('active', x === btn); });
              document.querySelectorAll('.accItem').forEach(function(x){ x.classList.toggle('active', x.dataset.type === activeAcc); });
              if(balTxt) balTxt.textContent = (activeAcc === 'real' && realAmt) ? realAmt.textContent : (demoAmt ? demoAmt.textContent : '$10,000.00');
              updateAccIcon();
            });
          });

          document.querySelectorAll('.accItem').forEach(function(it){
            it.addEventListener('click', function(){
              activeAcc = it.dataset.type || 'demo';
              document.querySelectorAll('.accItem').forEach(function(x){ x.classList.toggle('active', x === it); });
              if(balTxt) balTxt.textContent = (activeAcc === 'real' && realAmt) ? realAmt.textContent : (demoAmt ? demoAmt.textContent : '$10,000.00');
              updateAccIcon();
            });
          });

          updateAccIcon();
        }

        // --- Bottom nav (active state only) ---
        var bottomNav = document.getElementById('bottomNav');
        if(bottomNav){
          bottomNav.querySelectorAll('.nav-item').forEach(function(item){
            item.addEventListener('click', function(){
              bottomNav.querySelectorAll('.nav-item').forEach(function(x){ x.classList.remove('active'); });
              item.classList.add('active');
            });
          });
        }
      })();
    </script>
</body>
</html>
    
  </body>
  
</html>
